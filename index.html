<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", sans-serif;
      }
    </style>
    <script>
      (() => {
        if ('serviceWorker' in navigator) {
          window.addEventListener('load', function() {
            navigator.serviceWorker.register('/service-worker.js')
              .then(() => console.log('Service Worker Registered Successful'))
              .catch(() => console.log('Service worker not supported use another cache method'))
          })
        }
        if (('serviceWorker' in navigator) || ('PushManager' in window)) {
          Notification.requestPermission()
            .then((result) => {
              switch (result) {
                case 'granted':
                  console.log('Notification granted');
                  break;
                case 'denied':
                  console.log('Permission wasn\'t granted. Allow a retry');
                  break;
                default:
                  console.log('Permission request dismissed by default');
              }
            });
          }
      })();
    </script>
    <title>Twittax</title>
  </head>
  <body>
    <main>
      <!-- <app-twittax></app-twittax> -->
      <div id="router"></div>
    </main>
    <script src="/js/app.js"></script>
    <script nomodule>
      const script = document.createElement('script');
      script.src = '/js/components/twittax.js';
      document.head.appendChild(script);
    </script>
  </body>
</html>
